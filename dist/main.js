(()=>{"use strict";class e{constructor(e,t,n,a){this.maxTemp=e,this.minTemp=t,this.avgTemp=n,this.date=a}displayInfo(e){let t=document.createElement("div");t.className="forecastContainer";let n=document.createElement("div");n.setAttribute("id","AvgTempForecastDisplay"),n.textContent=`Average Temp: ${this.avgTemp}`;let a=document.createElement("div");a.setAttribute("id","forecastDetail"),a.textContent=`Min Temp: ${this.minTemp}`;let o=document.createElement("div");o.setAttribute("id","forecastDetail"),o.textContent=`Max Temp: ${this.maxTemp}`;let c=document.createElement("div");c.setAttribute("id","forecastDateDisplay"),c.classList="forecastdata",a.classList="forecastdata",o.classList="forecastdata",n.classList="forecastdata",c.textContent=this.date,t.appendChild(c),t.appendChild(n),t.appendChild(o),t.appendChild(a),e.appendChild(t)}}async function t(t){fetch(`http://api.weatherapi.com/v1/forecast.json?key=535d7af435ce4a459f381902212605&q=${t}&days=7&aqi=no&alerts=no`).then((e=>e.json())).then((t=>{t.forecast.forecastday[0],t.forecast.forecastday[0].date,t.forecast.forecastday[0].day.avgtemp_c,t.forecast.forecastday[0].day.mintemp_c,t.forecast.forecastday[0].day.maxtemp_c;let n=document.getElementById("forecastRoot");for(console.log(`the length of the container node is: ${n.children.length}`);n.firstChild;)n.removeChild(n.firstChild);for(let n=0;n<3;n++){let a=t.forecast.forecastday[n].day.avgtemp_c,o=t.forecast.forecastday[n].day.mintemp_c,c=t.forecast.forecastday[n].day.maxtemp_c,d=t.forecast.forecastday[n].date;new e(c,o,a,d).displayInfo(document.getElementById("forecastRoot"))}}),console.log("test"))}async function n(e){fetch(`http://api.openweathermap.org/data/2.5/weather?q=${e}&units=metric&appid=993f916fa6417076b75a3735eeb0d504`).then((e=>e.json())).then((t=>{let n=t.main.temp,a=(t.main.feels_like,t.main.temp_max),o=t.main.temp_min,c=t.main.humidity;!function(e,t,n,a,o,c){let d=document.getElementById("temperature"),s=document.getElementById("details"),i=document.getElementById("location"),m=document.getElementById("maxTemp"),l=document.getElementById("minTemp"),r=document.getElementById("humidity");r.textContent=`Humidity: ${n}`,l.textContent=`Low: ${o} C`,m.textContent=`High: ${a} C`,d.textContent=e+"C",i.textContent=t.toUpperCase(),s.appendChild(m),s.appendChild(l),s.appendChild(r)}(n,e,c,a,o);let d=t.weather[0].description;!function(e,t,n){const a=document.getElementById("icon"),o=document.getElementById("iconDiv");a.src="Thunderstorm"==e?"./Icons/thunderstorm.png":"Drizzle"==e||"Rain"==e?"./Icons/RainImage.png":"Snow"==e?"./Icons/snowIcon.png":"Clear"==e?"./Icons/sunImage.png":"Clouds"==e?"./Icons/CloudyIcon.png":"./Icons/haze.png",t.appendChild(a),a.setAttribute("id","icon"),o.setAttribute("id","iconDiv"),o.textContent=n,t.appendChild(o)}(t.weather[0].main,document.getElementById("currentWeatherDisplayDiv"),d)}))}const a=document.getElementById("search");document.getElementById("searchButton").addEventListener("click",(function(){let e=a.value;n(e),t(e)})),n("New York"),t("New York");let o=n(a.value);console.log(o);let c=t(a.value);console.log("the forecast is "+c)})();