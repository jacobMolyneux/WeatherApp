(()=>{"use strict";class e{constructor(e,t,n,a){this.maxTemp=e,this.minTemp=t,this.avgTemp=n,this.date=a}displayInfo(e){let t=document.createElement("div");t.className="forecastContainer";let n=document.createElement("div");n.setAttribute("id","AvgTempForecastDisplay"),n.textContent=this.avgTemp;let a=document.createElement("div");a.setAttribute("id","forecastDetail"),a.textContent=this.minTemp;let o=document.createElement("div");o.setAttribute("id","forecastDetail"),o.textContent=this.maxTemp;let i=document.createElement("div");i.setAttribute("id","forecastDateDisplay"),i.textContent=this.date,t.appendChild(i),t.appendChild(n),t.appendChild(o),t.appendChild(a),e.appendChild(t)}}async function t(t){fetch(`http://api.weatherapi.com/v1/forecast.json?key=535d7af435ce4a459f381902212605&q=${t}&days=7&aqi=no&alerts=no`).then((e=>e.json())).then((t=>{console.log("forecast Date:"),console.log(t),console.log("the forcast data is: "+t),t.forecast.forecastday[0];let n=t.forecast.forecastday[0].date,a=t.forecast.forecastday[0].day.avgtemp_c,o=t.forecast.forecastday[0].day.mintemp_c,i=t.forecast.forecastday[0].day.maxtemp_c;console.log("the date is: "+n),console.log(`the maximum temperature will be ${i} the minimum temperature will be ${o} the average temperature will be ${a}`);for(let n=0;n<3;n++){let a=t.forecast.forecastday[n].day.avgtemp_c,o=t.forecast.forecastday[n].day.mintemp_c,i=t.forecast.forecastday[n].day.maxtemp_c,c=t.forecast.forecastday[n].date;new e(i,o,a,c).displayInfo(document.getElementById("forecastRoot"))}}),console.log("test"))}async function n(e){fetch(`http://api.openweathermap.org/data/2.5/weather?q=${e}&units=metric&appid=993f916fa6417076b75a3735eeb0d504`).then((e=>e.json())).then((t=>{console.log(t.main);let n=t.main.temp,a=t.main.feels_like,o=t.main.temp_max,i=t.main.temp_min,c=t.main.humidity;console.log(`The Temperature is ${n} and feels like ${a}. The Humidity is ${c}.`),function(e,t,n,a,o,i){let c=document.getElementById("temperature"),d=document.getElementById("details"),s=document.getElementById("location"),m=document.getElementById("maxTemp"),l=document.getElementById("minTemp"),r=document.getElementById("humidity");r.textContent=`Humidity: ${n}`,l.textContent=`Low: ${o} C`,m.textContent=`High: ${a} C`,c.textContent=e+"C",s.textContent=t.toUpperCase(),d.appendChild(m),d.appendChild(l),d.appendChild(r)}(n,e,c,o,i);let d=t.weather[0].description;!function(e,t,n){const a=document.getElementById("icon"),o=document.getElementById("iconDiv");a.src="Thunderstorm"==e?"./Icons/thunderstorm.png":"Drizzle"==e||"Rain"==e?"./Icons/RainImage.png":"Snow"==e?"./Icons/snowIcon.png":"Clear"==e?"./Icons/sunImage.png":"Clouds"==e?"./Icons/CloudyIcon.png":"./Icons/haze.png",t.appendChild(a),a.setAttribute("id","icon"),o.setAttribute("id","iconDiv"),o.textContent=n,t.appendChild(o)}(t.weather[0].main,document.getElementById("currentWeatherDisplayDiv"),d)}))}const a=document.getElementById("search");document.getElementById("searchButton").addEventListener("click",(function(){let e=a.value;n(e),t(e)}));let o=n(a.value);console.log(o);let i=t(a.value);console.log("the forecast is "+i)})();