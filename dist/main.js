(()=>{"use strict";class e{constructor(e,t,a,n){this.maxTemp=e,this.minTemp=t,this.avgTemp=a,this.date=n}displayInfo(e){let t=document.createElement("div");t.className="forecastContainer";let a=document.createElement("div");a.setAttribute("id","AvgTempForecastDisplay"),a.textContent=`Average Temp: ${this.avgTemp}`;let n=document.createElement("div");n.setAttribute("id","forecastDetail"),n.textContent=`Min Temp: ${this.minTemp}`;let o=document.createElement("div");o.setAttribute("id","forecastDetail"),o.textContent=`Max Temp: ${this.maxTemp}`;let s=document.createElement("div");s.setAttribute("id","forecastDateDisplay"),s.classList="forecastdata",n.classList="forecastdata",o.classList="forecastdata",a.classList="forecastdata",s.textContent=this.date,t.appendChild(s),t.appendChild(a),t.appendChild(o),t.appendChild(n),e.appendChild(t)}}async function t(t){fetch(`http://api.weatherapi.com/v1/forecast.json?key=535d7af435ce4a459f381902212605&q=${t}&days=7&aqi=no&alerts=no`).then((e=>e.json())).then((t=>{console.log("forecast Date:"),console.log(t),console.log("the forcast data is: "+t),t.forecast.forecastday[0];let a=t.forecast.forecastday[0].date,n=t.forecast.forecastday[0].day.avgtemp_c,o=t.forecast.forecastday[0].day.mintemp_c,s=t.forecast.forecastday[0].day.maxtemp_c;console.log("the date is: "+a),console.log(`the maximum temperature will be ${s} the minimum temperature will be ${o} the average temperature will be ${n}`);for(let a=0;a<3;a++){let n=t.forecast.forecastday[a].day.avgtemp_c,o=t.forecast.forecastday[a].day.mintemp_c,s=t.forecast.forecastday[a].day.maxtemp_c,c=t.forecast.forecastday[a].date;new e(s,o,n,c).displayInfo(document.getElementById("forecastRoot"))}}),console.log("test"))}async function a(e){fetch(`http://api.openweathermap.org/data/2.5/weather?q=${e}&units=metric&appid=993f916fa6417076b75a3735eeb0d504`).then((e=>e.json())).then((t=>{console.log(t.main);let a=t.main.temp,n=t.main.feels_like,o=t.main.temp_max,s=t.main.temp_min,c=t.main.humidity;console.log(`The Temperature is ${a} and feels like ${n}. The Humidity is ${c}.`),function(e,t,a,n,o,s){let c=document.getElementById("temperature"),i=document.getElementById("details"),d=document.getElementById("location"),m=document.getElementById("maxTemp"),l=document.getElementById("minTemp"),r=document.getElementById("humidity");r.textContent=`Humidity: ${a}`,l.textContent=`Low: ${o} C`,m.textContent=`High: ${n} C`,c.textContent=e+"C",d.textContent=t.toUpperCase(),i.appendChild(m),i.appendChild(l),i.appendChild(r)}(a,e,c,o,s);let i=t.weather[0].description;!function(e,t,a){const n=document.getElementById("icon"),o=document.getElementById("iconDiv");n.src="Thunderstorm"==e?"./Icons/thunderstorm.png":"Drizzle"==e||"Rain"==e?"./Icons/RainImage.png":"Snow"==e?"./Icons/snowIcon.png":"Clear"==e?"./Icons/sunImage.png":"Clouds"==e?"./Icons/CloudyIcon.png":"./Icons/haze.png",t.appendChild(n),n.setAttribute("id","icon"),o.setAttribute("id","iconDiv"),o.textContent=a,t.appendChild(o)}(t.weather[0].main,document.getElementById("currentWeatherDisplayDiv"),i)}))}const n=document.getElementById("search");document.getElementById("searchButton").addEventListener("click",(function(){let e=n.value;a(e),t(e)}));let o=a(n.value);console.log(o);let s=t(n.value);console.log("the forecast is "+s)})();